.\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.36.
.TH CCS-LOADPOLICY "8" "May 2009" "ccs-loadpolicy 1.6.8" "System Administration Utilities"
.SH NAME
ccs-loadpolicy \- Load TOMOYO Linux's policy manually
.SH SYNOPSIS
.B ccs-loadpolicy
[\fIs\fR][\fIe\fR][\fId\fR][\fIa\fR][\fIf\fR][\fIp\fR][\fIm\fR][\fIu\fR] [\fI{-|policy_dir} \fR[\fIremote_ip:remote_port\fR]]
.SH DESCRIPTION
This program loads TOMOYO Linux's policy from files or standard input into kernel.
.TP
s
Load system policy. ( policy_dir/system_policy.base + policy_dir/system_policy.conf => /proc/ccs/system_policy )
.TP
e
Load exception policy. ( policy_dirpolicy_dir/exception_policy.base + policy_dir/exception_policy.conf => /proc/ccs/exception_policy )
.TP
d
Load domain policy. ( policy_dir/domain_policy.base + policy_dir/domain_policy.conf => /proc/ccs/domain_policy )
.TP
a
Load system policy, exception policy and domain policy.
.TP
p
Load profile. ( policy_dir/profile.base + policy_dir/profile.conf => /proc/ccs/profile )
.TP
m
Load manager. ( policy_dir/manager.base + policy_dir/manager.conf => /proc/ccs/manager )
.TP
u
Load meminfo. ( policy_dir/meminfo.base + policy_dir/meminfo.conf => /proc/ccs/meminfo )
.TP
f
Erase on\-memory policy before loading on\-disk policy. If not specified, on\-disk policy is appended to on\-memory policy.
This option is valid for "seda" options.
.TP
\-
Read policy from stdin. Specify only one of "sedpmu" option when you use this option.
.TP
policy_dir
Load policy files from policy_dir directory. Must starts with / .
Default is /etc/tomoyo/ if /sys/kernel/security/tomoyo/ exists,
none if remote_ip:remote_port is specified, /etc/ccs/ otherwise.
.TP
remote_ip:remote_port
Send policy to agent listening at specified IP address and port number.
.SH EXAMPLES

# echo "allow_read /proc/meminfo" | ccs\-loadpolicy \fB\-e\fR
.IP
Add "allow_read /proc/meminfo" to exception policy.
.PP
# echo "delete allow_read /proc/meminfo" | ccs\-loadpolicy \fB\-e\fR
.IP
Remove "allow_read /proc/meminfo" from exception policy.
.PP
# ( echo "<kernel>"; echo "allow_execute /sbin/init" ) | ccs\-loadpolicy \fB\-d\fR
.IP
Add "allow_execute /sbin/init" to "<kernel>" domain.
.PP
# ccs\-loadpolicy df
.IP
Replace currently loaded domain policy with policy_dir/domain_policy.base + policy_dir/domain_policy.conf .
.PP
# ccs\-loadpolicy d
.IP
Append policy_dir/domain_policy.base + policy_dir/domain_policy.conf into currently loaded domain policy.
.PP
# ccs\-loadpolicy d /etc/ccs/192.168.1.1/ 192.168.1.1:10000
.IP
Append /etc/ccs/192.168.1.1/domain_policy.base + /etc/ccs/192.168.1.1/domain_policy.conf to 192.168.11.1:10000 .
.SH NOTES

 This is a symbolic link to /usr/lib/ccs/loadpolicy .

 You need to register either path to this program ( /usr/lib/ccs/loadpolicy ) or a domain for this program in /proc/ccs/manager before invoking this program.
.SH AUTHORS

 penguin-kernel _at_ I-love.SAKURA.ne.jp
.SH COPYRIGHT
Copyright \(co 2005-2009 NTT DATA CORPORATION.
.PP
This program is free software; you may redistribute it under the terms of
the GNU General Public License. This program has absolutely no warranty.
.SH "SEE ALSO"

 ccs-init (8)
 ccs-editpolicy-agent (8)
